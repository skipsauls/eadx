{"dataSourceLinks":[],"filters":[],"gridLayouts":[],"layouts":[],"steps":{"saql":{"broadcastFacet":true,"groups":["Quarter","StageName"],"numbers":["sum_Amount"],"query":"q = load \"eadx__pipeline_trending2\";\nq = filter q by 'Stage.IsClosed' == \"false\";\nq = filter q by 'ForecastCategory' != \"Omitted\";\ntoday = filter q by 'IsLastUpdate' == \"1\";\ntoday = group today by 'StageName';\ntoday = foreach today generate 'StageName' as 'StageName', sum('Amount') as 'sum_Amount', last('Opportunity.Stage.SortOrder') as 'stage_sort', 0 as 'time_sort', \"Current\" as 'Quarter';\none = filter q by (date('ValidFromDate_Year', 'ValidFromDate_Month', 'ValidFromDate_Day') in [..\"1 quarters ago\"]) && (date('ValidToDate_Year', 'ValidToDate_Month', 'ValidToDate_Day') in [\"current quarter\"..]);\none = group one by 'StageName';\none = foreach one generate 'StageName' as 'StageName', sum('Amount') as 'sum_Amount', last('Opportunity.Stage.SortOrder') as 'stage_sort', 1 as 'time_sort', \"This Quarter\" as 'Quarter';\ntwo = filter q by (date('ValidFromDate_Year', 'ValidFromDate_Month', 'ValidFromDate_Day') in [..\"2 quarters ago\"]) && (date('ValidToDate_Year', 'ValidToDate_Month', 'ValidToDate_Day') in [\"1 quarter ago\"..]);\ntwo = group two by 'StageName';\ntwo = foreach two generate 'StageName' as 'StageName', sum('Amount') as 'sum_Amount', last('Opportunity.Stage.SortOrder') as 'stage_sort', 2 as 'time_sort', \"1 quarter ago\" as 'Quarter';\nthree = filter q by (date('ValidFromDate_Year', 'ValidFromDate_Month', 'ValidFromDate_Day') in [..\"3 quarters ago\"]) && (date('ValidToDate_Year', 'ValidToDate_Month', 'ValidToDate_Day') in [\"2 quarters ago\"..]);\nthree = group three by 'StageName';\nthree = foreach three generate 'StageName' as 'StageName', sum('Amount') as 'sum_Amount', last('Opportunity.Stage.SortOrder') as 'stage_sort', 3 as 'time_sort', \"2 quarters ago\" as 'Quarter';\nfour = filter q by (date('ValidFromDate_Year', 'ValidFromDate_Month', 'ValidFromDate_Day') in [..\"4 quarters ago\"]) && (date('ValidToDate_Year', 'ValidToDate_Month', 'ValidToDate_Day') in [\"3 quarters ago\"..]);\nfour = group four by 'StageName';\nfour = foreach four generate 'StageName' as 'StageName', sum('Amount') as 'sum_Amount', last('Opportunity.Stage.SortOrder') as 'stage_sort', 4 as 'time_sort', \"3 quarters ago\" as 'Quarter';\nresult = union today, one, two, three, four;\nresult = group result by ('Quarter', 'StageName');\nresult = foreach result generate 'StageName' as 'StageName', 'Quarter' as 'Quarter', sum('sum_Amount') as 'sum_Amount', first('stage_sort') as 'stage_sort', first('time_sort') as 'time_sort';\nresults = order result by ('time_sort' desc, 'stage_sort' asc);","receiveFacetSource":{"mode":"all","steps":[]},"selectMode":"none","strings":["Quarter","StageName"],"type":"saql","useGlobal":true}},"widgets":{"saql_chart":{"parameters":{"autoFitMode":"fit","totalValue":"computeTotal","showValues":true,"legend":{"descOrder":false,"showHeader":true,"sorting":{"order":"asc"},"show":true,"customSize":"auto","position":"right-top","inside":false},"axisMode":"multi","tooltip":{"showBinLabel":true,"measures":"","showPercentage":true,"showDimensions":true,"showMeasures":true,"customizeTooltip":false,"dimensions":""},"visualizationType":"stackvbar","exploreLink":false,"title":{"fontSize":14,"subtitleFontSize":11,"label":"","align":"center","subtitleLabel":""},"trellis":{"flipLabels":false,"showGridLines":true,"size":[100,100],"enable":false,"type":"x","chartsPerLine":4},"totalLabel":"","columnMap":{"split":["StageName"],"trellis":[],"dimensionAxis":["Quarter"],"plots":["sum_Amount"]},"showActionMenu":true,"measureAxis2":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"normalize":false,"measureAxis1":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"theme":"wave","step":"saql","dimensionAxis":{"showTitle":true,"customSize":"auto","showAxis":true,"title":"","icons":{"useIcons":false,"iconProps":{"fit":"cover","column":"","type":"round"}}},"applyConditionalFormatting":true},"type":"chart"}}}