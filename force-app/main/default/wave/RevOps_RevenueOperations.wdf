["{\"nodes\":{\"Register_Quota_with_Roles\":{\"action\":\"register\",\"parameters\":{\"label\":\"Forecasting Quota\",\"name\":\"eadx__forecastingquota\"},\"sources\":[\"Join_Quota_UserRoles\"]},\"Register_UserRoles\":{\"action\":\"register\",\"parameters\":{\"label\":\"User Roles\",\"name\":\"eadx__userroles\"},\"sources\":[\"Join_User_Roles\"]},\"Join_Quota_UserRoles\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Username\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Quota\",\"rightKey\":[\"Username\"],\"rightSelect\":[\"FirstName\",\"IsActive\",\"LastName\",\"ManagerId\",\"Name\",\"Role.DeveloperName\",\"Role.Name\",\"Role.ParentRole.DeveloperName\",\"Role.ParentRole.Name\",\"Role.ParentRoleId\",\"Role.RoleNames\",\"Role.RoleNamesPath\",\"Role.RolePath\",\"Role.Roles\",\"UniqueUserName\",\"Username\",\"SmallPhotoUrl\",\"UserRoleId\"]},\"sources\":[\"Extract_Quota\",\"Join_User_Roles\"]},\"Extract_Opportunity\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"AccountId\"},{\"name\":\"Amount\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":0,\"name\":\"CloseDate\"},{\"name\":\"CreatedDate\"},{\"name\":\"ForecastCategoryName\"},{\"name\":\"HasOpportunityLineItem\"},{\"name\":\"Id\"},{\"name\":\"IsClosed\"},{\"name\":\"IsWon\"},{\"name\":\"LastActivityDate\"},{\"name\":\"LeadSource\"},{\"name\":\"Name\"},{\"name\":\"OwnerId\"},{\"name\":\"Probability\"},{\"name\":\"StageName\"},{\"name\":\"Type\"}],\"object\":\"Opportunity\"}},\"Compute_UniqueUserName\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"UniqueUserName\",\"name\":\"UniqueUserName\",\"saqlExpression\":\"case when isDuplicate is null then 'Name' else 'Name' + \\\" (\\\" +'Username'+ \\\")\\\" end\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Compute_DuplicateUsers\"]},\"Join_User_Roles\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"UserRoleId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Role\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"DeveloperName\",\"Name\",\"ParentRole.DeveloperName\",\"ParentRole.Name\",\"ParentRoleId\",\"RolePath\",\"Roles\",\"RoleNames\",\"RoleNamesPath\"]},\"sources\":[\"Compute_UniqueUserName\",\"Flatten_ParentName\"]},\"Flatten_ParentName\":{\"action\":\"flatten\",\"parameters\":{\"includeSelfId\":true,\"multiField\":{\"isSystemField\":false,\"label\":\"RoleNames\",\"name\":\"RoleNames\"},\"parentField\":\"ParentRole.DeveloperName\",\"pathField\":{\"isSystemField\":false,\"label\":\"RoleNamesPath\",\"name\":\"RoleNamesPath\"},\"selfField\":\"DeveloperName\"},\"sources\":[\"Add_ParentRole_Name\"]},\"Extract_Account\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"AccountSource\"},{\"name\":\"AnnualRevenue\"},{\"name\":\"BillingCountry\"},{\"name\":\"BillingState\"},{\"name\":\"CreatedDate\"},{\"name\":\"Industry\"},{\"name\":\"Id\"},{\"name\":\"LastActivityDate\"},{\"name\":\"Name\"},{\"name\":\"NumberOfEmployees\"},{\"name\":\"OwnerId\"},{\"name\":\"Type\"}],\"object\":\"Account\"}},\"Extract_User\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"AccountId\"},{\"name\":\"FirstName\"},{\"name\":\"ForecastEnabled\"},{\"name\":\"Id\"},{\"name\":\"IsActive\"},{\"name\":\"LastName\"},{\"name\":\"ManagerId\"},{\"name\":\"Name\"},{\"name\":\"SmallPhotoUrl\"},{\"name\":\"Username\"},{\"name\":\"UserRoleId\"}],\"object\":\"User\"}},\"Register_Account\":{\"action\":\"register\",\"parameters\":{\"label\":\"Account\",\"name\":\"eadx__account9\"},\"sources\":[\"Join_Account_User\"]},\"Extract_Quota\":{\"action\":\"dataset\",\"parameters\":{\"name\":\"eadx__quota9\"}},\"Join_Opportunity_User\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"OwnerId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"User\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"AccountId\",\"IsActive\",\"Name\",\"Role.DeveloperName\",\"Role.Name\",\"Role.ParentRole.DeveloperName\",\"Role.ParentRole.Name\",\"Role.ParentRoleId\",\"Role.RoleNames\",\"Role.RoleNamesPath\",\"Role.RolePath\",\"Role.Roles\",\"SmallPhotoUrl\",\"UniqueUserName\",\"Username\",\"UserRoleId\"]},\"sources\":[\"Join_Opp_Account\",\"Join_User_Roles\"]},\"Register_Quota\":{\"action\":\"register\",\"parameters\":{\"label\":\"Quota\",\"name\":\"eadx__quota9\",\"runtime\":{\"SFDCtoken\":\"SFDCtoken\"}},\"sources\":[\"Extract_Quota\"]},\"Add_ParentRole_Name\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"ParentRoleId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"ParentRole\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"DeveloperName\",\"ParentRoleId\",\"Name\"]},\"sources\":[\"Flatten_UserRole\",\"Extract_UserRole\"]},\"Join_Opp_Account\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"AccountId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Account\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"AccountSource\",\"AnnualRevenue\",\"BillingCountry\",\"BillingState\",\"CreatedDate\",\"Industry\",\"LastActivityDate\",\"Name\",\"NumberOfEmployees\",\"OwnerId\",\"Type\",\"User.Role.DeveloperName\",\"User.Role.Name\",\"User.Role.ParentRole.DeveloperName\",\"User.Role.ParentRole.Name\",\"User.Role.ParentRoleId\",\"User.Role.RoleNames\",\"User.Role.RoleNamesPath\",\"User.Role.RolePath\",\"User.Role.Roles\",\"User.SmallPhotoUrl\",\"User.UniqueUserName\",\"User.Username\",\"User.UserRoleId\",\"User.Name\",\"User.IsActive\"]},\"sources\":[\"Extract_Opportunity\",\"Join_Account_User\"]},\"Extract_UserRole\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"Name\"},{\"name\":\"DeveloperName\"},{\"name\":\"ParentRoleId\"},{\"name\":\"ForecastUserId\"}],\"object\":\"UserRole\",\"runtime\":{\"SFDCtoken\":\"SFDCtoken\"}}},\"Flatten_UserRole\":{\"action\":\"flatten\",\"parameters\":{\"includeSelfId\":true,\"multiField\":{\"isSystemField\":false,\"label\":\"Roles\",\"name\":\"Roles\"},\"parentField\":\"ParentRoleId\",\"pathField\":{\"isSystemField\":false,\"label\":\"RolePath\",\"name\":\"RolePath\"},\"selfField\":\"Id\"},\"sources\":[\"Extract_UserRole\"]},\"Join_Account_User\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"OwnerId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"User\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"IsActive\",\"Name\",\"Role.DeveloperName\",\"Role.Name\",\"Role.ParentRole.DeveloperName\",\"Role.ParentRole.Name\",\"Role.ParentRoleId\",\"Role.RoleNames\",\"Role.RoleNamesPath\",\"Role.RolePath\",\"Role.Roles\",\"SmallPhotoUrl\",\"UniqueUserName\",\"Username\",\"UserRoleId\"]},\"sources\":[\"Extract_Account\",\"Join_User_Roles\"]},\"Register_Opportunity\":{\"action\":\"register\",\"parameters\":{\"label\":\"Opportunity\",\"name\":\"eadx__opportunity10\"},\"sources\":[\"Join_Opportunity_User\"]},\"Compute_DuplicateUsers\":{\"action\":\"computeRelative\",\"parameters\":{\"computedFields\":[{\"expression\":{\"offset\":\"next()\",\"sourceField\":\"Id\"},\"label\":\"isDuplicate\",\"name\":\"isDuplicate\"}],\"orderBy\":[{\"direction\":\"asc\",\"name\":\"Id\"}],\"partitionBy\":[\"Name\"]},\"sources\":[\"Extract_User\"]}}}",null]