<aura:component implements="force:appHostable,flexipage:availableForAllPageTypes" access="global" >
    <aura:attribute name="keyField" type="String" access="global"/>
    <aura:attribute name="columns" type="List" access="global"/>    
    <aura:attribute name="data" type="Object[]" access="global"/>
    <aura:attribute name="selectedRows" type="List" access="global"/>
    <aura:attribute name="searchTerm" type="String" access="global"/>    
    
    <aura:handler name="init" value="{!this}" action="{!c.init}"/>
    <aura:handler name="change" value="{!v.searchTerm}" action="{!c.handleSearchTermChange}"/>
    
    <lightning:layout>
        <lightning:layoutItem flexibility="auto" padding="around-small" size="8">
            <lightning:input type="text" label="Search" value="{!v.searchTerm}" class="slds-m-around_x-small"/>
            <lightning:datatable aura:id="datatable"
                                 class="slds-m-around_x-small"
                                 columns="{!v.columns}" 
                                 data="{!v.data}" 
                                 keyField="{!v.keyField}"
                                 selectedRows="{!v.selectedRows}"
                                 onrowselection="{!c.handleRowSelection}"
                                 />
        </lightning:layoutItem>
    </lightning:layout>
</aura:component>